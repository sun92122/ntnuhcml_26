(function(){"use strict";var e={3956:function(e,o,t){var n=t(9242),r=t(3396);function s(e,o){const t=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(t)}var i=t(89);const a={},c=(0,i.Z)(a,[["render",s]]);var l=c,d=t(2483);const u={key:1,class:"warn_info"},p={key:3,class:"product_info"},h={class:"screen"},f={key:0,class:"left_screen"},m={class:"medium_screen"},g={key:0,class:"shop"},b={key:0,class:"wait"},v=["hidden"],y={class:"spring"},w={class:"spring"},_={class:"right_screen"};function k(e,o,t,s,i,a){const c=(0,r.up)("Warn"),l=(0,r.up)("Info"),d=(0,r.up)("Type"),k=(0,r.up)("Header"),T=(0,r.up)("Product"),D=(0,r.up)("Cart"),I=(0,r.up)("Subscriber"),C=(0,r.up)("Done"),O=(0,r.up)("Footer");return(0,r.wg)(),(0,r.iD)(r.HY,null,[i.isShowWarn?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"warn_blank",onClick:o[0]||(o[0]=e=>i.isShowWarn=!1)})):(0,r.kq)("",!0),i.isShowWarn?((0,r.wg)(),(0,r.iD)("div",u,[(0,r.Wm)(c,{onWarnClose:o[1]||(o[1]=e=>i.isShowWarn=!1)})])):(0,r.kq)("",!0),i.isShowInfo?((0,r.wg)(),(0,r.iD)("div",{key:2,class:"product_info_blank",onClick:o[2]||(o[2]=e=>i.isShowInfo=!1)})):(0,r.kq)("",!0),i.isShowInfo?((0,r.wg)(),(0,r.iD)("div",p,[(0,r.Wm)(l,{name:i.products[i.infoProductKey].name,price:i.products[i.infoProductKey].price,img:i.products[i.infoProductKey].img,info:i.products[i.infoProductKey].info,onInfoClose:o[3]||(o[3]=e=>i.isShowInfo=!1)},null,8,["name","price","img","info"])])):(0,r.kq)("",!0),(0,r._)("div",h,[i.shoppingDone?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",f,[(0,r.Wm)(d,{types:i.types,showType:i.showType,showOtherType:!0,onTypeClick:o[4]||(o[4]=e=>a.typeClick(e)),class:"left_type"},null,8,["types","showType"])])),(0,r._)("div",m,[(0,r.Wm)(k),i.shoppingDone?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",g,[(0,r.Wm)(d,{types:i.types,showType:i.showType,showOtherType:i.showOtherType,onTypeClick:o[5]||(o[5]=e=>a.typeClick(e,i.showOtherType)),class:"top_type"},null,8,["types","showType","showOtherType"]),0==i.types.所有商品?((0,r.wg)(),(0,r.iD)("div",b,"努力載入中...")):(0,r.kq)("",!0),(0,r._)("ul",{hidden:!i.showProduct},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.products,((e,o)=>(0,r.wy)(((0,r.wg)(),(0,r.j4)(T,{key:o,name:e.name,price:e.price,img:e.img,sale:e.sale,other:e.other,count:e.count,onMinusClick:o=>--e.count,onAddClick:o=>++e.count,onInfoClick:e=>a.showInfo(o),onInputChange:o=>e.count=o,onInputInput:o=>e.count=o},null,8,["name","price","img","sale","other","count","onMinusClick","onAddClick","onInfoClick","onInputChange","onInputInput"])),[[n.F8,e.type.includes(i.showType)||"所有商品"===i.showType]]))),128)),(0,r.wy)((0,r._)("div",y,null,512),[[n.F8,i.types[i.showType]%3]]),(0,r.wy)((0,r._)("div",w,null,512),[[n.F8,i.types[i.showType]%3==1]])],8,v),(0,r.Wm)(D,{products:Object.values(i.products),price:a.price,isShowImg:0,onNextButton:o[6]||(o[6]=e=>{i.shoppingDone=!0,a.sendFood()}),class:"bottom_cart"},null,8,["products","price"])])),i.shoppingDone&&!i.shoppingAllDone?((0,r.wg)(),(0,r.j4)(I,{key:1,details:a.orderDetails,price:a.price,subscriber:i.subscriberInfo,food:i.food,foodorder:a.foodOrder,onInfoChange:o[7]||(o[7]=(e,o)=>i.subscriberInfo[e]=o),onSubmitOrder:o[8]||(o[8]=e=>a.submitOrder()),onSubscriberClose:o[9]||(o[9]=e=>i.shoppingDone=!1)},null,8,["details","price","subscriber","food","foodorder"])):(0,r.kq)("",!0),i.shoppingAllDone?((0,r.wg)(),(0,r.j4)(C,{key:2})):(0,r.kq)("",!0),(0,r.Wm)(O)]),(0,r._)("div",_,[(0,r.wy)((0,r.Wm)(D,{products:Object.values(i.products),price:a.price,isShowImg:i.products.length,onNextButton:o[10]||(o[10]=e=>{i.shoppingDone=!0,a.sendFood()}),class:"right_cart"},null,8,["products","price","isShowImg"]),[[n.F8,!i.shoppingDone]])])])],64)}t(7658);const T={class:"header"},D=["src"];function I(e,o,t,n,s,i){return(0,r.wg)(),(0,r.iD)("div",T,[(0,r._)("img",{class:"headerimg",src:e.headerimg},null,8,D)])}var C=t.p+"img/HeaderImage.237d1627.jpg",O={name:"HeaderView",props:{msg:String},data:function(){return{headerimg:C}}};const S=(0,i.Z)(O,[["render",I],["__scopeId","data-v-f36d8374"]]);var x=S,j=t(7139);const H=e=>((0,r.dD)("data-v-b953c358"),e=e(),(0,r.Cn)(),e),F={class:"product"},q=["src","alt","onerror"],M=["innerHTML"],V=H((()=>(0,r._)("br",null,null,-1))),W={class:"price"},K=H((()=>(0,r._)("br",null,null,-1))),A=["innerHTML"],P={key:0,class:"count"},z=["disabled"],Z=H((()=>(0,r._)("div",null,"-",-1))),N=[Z],$=["value"],U=H((()=>(0,r._)("div",null,"+",-1))),Y=[U];function L(e,o,t,n,s,i){return(0,r.wg)(),(0,r.iD)("div",F,[(0,r._)("a",null,[(0,r._)("div",{class:"productimgdiv",onClick:o[0]||(o[0]=o=>e.$emit("info-click"))},[(0,r._)("img",{class:"productimg",src:t.img?t.img:"/img/404.png",alt:t.name+"的圖片，來攤位上看看吧",onerror:i.defaultImg},null,8,q)]),(0,r._)("div",null,[(0,r._)("text",{class:"name",onClick:o[1]||(o[1]=o=>e.$emit("info-click")),innerHTML:t.name},null,8,M),V,(0,r._)("text",W,"NT "+(0,j.zw)(t.price),1),K,t.sale?((0,r.wg)(),(0,r.iD)("text",{key:0,class:"sale",innerHTML:t.sale},null,8,A)):(0,r.kq)("",!0)]),t.other.includes("正式週限定")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",P,[(0,r._)("button",{class:"countbutton",onClick:o[2]||(o[2]=o=>e.$emit("minus-click")),disabled:t.count<=0},N,8,z),(0,r._)("input",{class:"countinput",type:"number",min:"0",onChange:o[3]||(o[3]=o=>e.$emit("input-change",i.changeCheck(o))),onInput:o[4]||(o[4]=o=>e.$emit("input-input",i.inputCheck(o))),value:t.count},null,40,$),(0,r._)("button",{class:"countbutton",onClick:o[5]||(o[5]=o=>e.$emit("add-click"))},Y)]))])])}var X=t.p+"img/404.25dbc0ab.png",B={name:"ProductView",props:{msg:String,name:String,count:[Number,String],price:Number,sale:String,other:Array,img:null},emits:["minus-click","add-click","info-click","input-change","input-input"],methods:{inputCheck(e){var o=e.target.value;try{if(o>=0)return o}catch(t){if(o>="0")return o}return 0},changeCheck(e){var o=e.target.value;return o?parseInt(o):0}},computed:{defaultImg(){return'this.src="'+X+'"'}}};const J=(0,i.Z)(B,[["render",L],["__scopeId","data-v-b953c358"]]);var E=J;const R=e=>((0,r.dD)("data-v-675bbcf0"),e=e(),(0,r.Cn)(),e),Q={class:"cart"},G=R((()=>(0,r._)("p",{class:"hr"},null,-1))),ee=R((()=>(0,r._)("h1",null,"購物車～～",-1))),oe={class:"buyproducts"},te=["hidden"],ne=["src","onerror"],re={class:"buyproductdata"},se=["hidden"],ie=R((()=>(0,r._)("p",{class:"hr"},null,-1))),ae={class:"price"},ce=["disabled"],le=R((()=>(0,r._)("br",null,null,-1)));function de(e,o,t,n,s,i){return(0,r.wg)(),(0,r.iD)("div",Q,[G,ee,(0,r._)("div",oe,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.products,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"buyproduct",key:e.name,hidden:0==e.count},[(0,r._)("img",{src:e.img,onerror:i.defaultImg,class:(0,j.C_)({imgresizeto10:t.showImg>5})},null,10,ne),(0,r._)("div",re,[(0,r._)("div",null,(0,j.zw)(e.name),1),(0,r._)("div",null,(0,j.zw)(e.count+"  ×  NT "+e.price),1)])],8,te)))),128))]),(0,r._)("div",{class:"emptymsg",hidden:0!=t.price},"這裡空空如也",8,se),ie,(0,r._)("div",ae,[(0,r._)("div",null,(0,j.zw)("總金額："+t.price),1),(0,r._)("button",{class:"nextbutton",role:"button",onClick:o[0]||(o[0]=o=>e.$emit("next-button")),disabled:0==t.price},[(0,r.Uk)(" 下一步"),le,(0,r.Uk)("填寫訂購人資訊 ")],8,ce)])])}var ue={name:"CartView",props:{msg:String,products:Array,price:Number,showImg:Number},computed:{defaultImg(){return'this.src="'+X+'"'}}};const pe=(0,i.Z)(ue,[["render",de],["__scopeId","data-v-675bbcf0"]]);var he=pe;const fe=["onClick"];function me(e,o,t,n,s,i){return(0,r.wg)(),(0,r.iD)("div",{class:(0,j.C_)(["type",t.showOtherType?"":"hide"])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.types,((o,n)=>((0,r.wg)(),(0,r.iD)("div",{key:n,class:(0,j.C_)(["type_item",{is_active:n===t.showType,hide:!t.showOtherType&&n!==t.showType&&"所有商品"!==n}]),onClick:o=>e.$emit("typeClick",n)},(0,j.zw)(n),11,fe)))),128))],2)}var ge={name:"TypeView",props:{msg:String,types:Object,showType:String,showOtherType:Boolean}};const be=(0,i.Z)(ge,[["render",me],["__scopeId","data-v-31b08766"]]);var ve=be;const ye=e=>((0,r.dD)("data-v-19039667"),e=e(),(0,r.Cn)(),e),we=["src"],_e=ye((()=>(0,r._)("div",{class:"footer"},[(0,r._)("div",{class:"copyrightdiv"},[(0,r._)("p",{class:"copyright"}," 本網站著作由國立臺灣師範大學竹苗地區同鄉校友會擁有 ")])],-1)));function ke(e,o,t,n,s,i){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("img",{class:"footerimg",src:e.footerimg},null,8,we),_e],64)}var Te=t.p+"img/FooterImage.840b2689.jpg",De={name:"FooterView",props:{msg:String},data:function(){return{footerimg:Te}}};const Ie=(0,i.Z)(De,[["render",ke],["__scopeId","data-v-19039667"]]);var Ce=Ie;const Oe={class:"info"},Se={class:"close"},xe={class:"product"},je={class:"productimgdiv"},He=["src","onerror"],Fe={class:"nameandprice"},qe={class:"name"},Me={class:"price"},Ve={class:"infotextdiv"},We=["innerHTML"];function Ke(e,o,t,n,s,i){return(0,r.wg)(),(0,r.iD)("div",Oe,[(0,r._)("div",Se,[(0,r._)("button",{onClick:o[0]||(o[0]=o=>e.$emit("info-close"))},"x")]),(0,r._)("div",xe,[(0,r._)("div",je,[(0,r._)("img",{class:"productimg",src:t.img,onerror:i.defaultImg},null,8,He)]),(0,r._)("div",Fe,[(0,r._)("text",qe,(0,j.zw)(t.name),1),(0,r._)("text",Me,"NT "+(0,j.zw)(t.price),1)])]),(0,r._)("div",Ve,[(0,r._)("div",{class:"infotext",innerHTML:t.info},null,8,We)])])}var Ae={name:"InfoView",props:{msg:String,name:String,price:Number,info:String,img:null},emits:["info-close"],computed:{defaultImg(){return'this.src="'+X+'"'}}};const Pe=(0,i.Z)(Ae,[["render",Ke],["__scopeId","data-v-0acac4f2"]]);var ze=Pe;const Ze={class:"warn"},Ne={class:"close"},$e=(0,r.uE)('<div class="warntextdiv" data-v-44bff532><h3 class="title" data-v-44bff532>歡迎光臨2023竹苗文化週</h3><div class="warntext" data-v-44bff532> 竹苗週的理念是想要推廣新竹苗栗地區的文化， 透過文化的介紹與特色食物的推廣， 希望能讓更多的人有機會接觸並認識新竹苗栗的景點與特產。 而同樣來自竹苗地區的我們，相聚在此， 共同宣揚著家鄉的文化和美食， 一起為了同個目標奮鬥， 一同築出那最燦爛的夢想。 <p class="red" data-v-44bff532> 預購網站僅預購及展示，本次竹苗週唯一收款方式為週系列現場。 </p><p data-v-44bff532> 表單商品除特別標示外皆於 4/26-4/28中午 取貨，各商品介紹及資訊可點擊商品圖查看。 </p><div class="closeinfo" data-v-44bff532>點擊空白處關閉</div></div></div>',1);function Ue(e,o,t,n,s,i){return(0,r.wg)(),(0,r.iD)("div",Ze,[(0,r._)("div",Ne,[(0,r._)("button",{onClick:o[0]||(o[0]=o=>e.$emit("warn-close"))},"x")]),$e])}var Ye={name:"WarnView",props:{msg:String},emits:["warn-close"]};const Le=(0,i.Z)(Ye,[["render",Ue],["__scopeId","data-v-44bff532"]]);var Xe=Le;const Be=e=>((0,r.dD)("data-v-5c54e016"),e=e(),(0,r.Cn)(),e),Je={class:"subscriber"},Ee={class:"details"},Re=Be((()=>(0,r._)("div",{class:"detailstitle"},"訂單明細",-1))),Qe=["innerHTML"],Ge={class:"totalprice"},eo=Be((()=>(0,r._)("div",{class:"totalpricetitle"},"總計",-1))),oo={class:"price"},to=Be((()=>(0,r._)("iframe",{class:"iframe",name:"iframe"},null,-1))),no=["for"],ro=["type","name","id","placeholder","autocomplete","onUpdate:modelValue"],so={key:0,class:"foodtime"},io={class:"foodtitle"},ao={key:0},co=Be((()=>(0,r._)("label",{for:"sametime"},"所有餐點同時",-1))),lo={key:0,class:"w-100"},uo={class:"food"},po={class:"foodname"},ho=["onUpdate:modelValue"],fo=Be((()=>(0,r._)("option",{value:""},"請選擇取餐時間",-1))),mo={key:1,class:"w-100"},go={class:"fooddiv"},bo={class:"food"},vo=Be((()=>(0,r._)("div",{class:"foodname"},"所有餐點",-1))),yo=Be((()=>(0,r._)("option",{value:""},"請選擇取餐時間",-1))),wo={class:"buttons"};function _o(e,o,t,s,i,a){return(0,r.wg)(),(0,r.iD)("div",Je,[(0,r._)("div",Ee,[Re,(0,r._)("div",{innerHTML:t.details.replace(/\r?\n/g,"<br />")},null,8,Qe),(0,r._)("div",Ge,[eo,(0,r._)("div",oo,(0,j.zw)(t.price),1)])]),to,(0,r._)("form",{id:"fooood",target:"iframe",onSubmit:o[8]||(o[8]=e=>a.submit())},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.subscriberInfo,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:t,class:"subscriberInfo",onKeydown:o[2]||(o[2]=(0,n.D2)((0,n.iM)((()=>{}),["prevent"]),["enter"]))},[(0,r._)("label",{for:e.name},(0,j.zw)(e.label),9,no),(0,r.wy)((0,r._)("input",{type:e.type,name:e.name,id:e.name,placeholder:e.placeholder,autocomplete:e.autocomplete,"onUpdate:modelValue":o=>e.value=o,onChange:o[0]||(o[0]=e=>a.changeInfo(e)),onInput:o[1]||(o[1]=e=>a.changeInfo(e)),required:""},null,40,ro),[[n.YZ,e.value]])],32)))),128)),t.foodorder.count?((0,r.wg)(),(0,r.iD)("div",so,[(0,r._)("div",io,[(0,r.Uk)(" 現做食品取餐時間 "),t.foodorder.count>1?((0,r.wg)(),(0,r.iD)("div",ao,[co,(0,r.wy)((0,r._)("input",{type:"checkbox",id:"sametime",name:"sametime","onUpdate:modelValue":o[3]||(o[3]=e=>i.foodToOrder.isSameTime=e),onChange:o[4]||(o[4]=(...e)=>a.changeFood&&a.changeFood(...e))},null,544),[[n.e8,i.foodToOrder.isSameTime]])])):(0,r.kq)("",!0)]),i.foodToOrder.isSameTime?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",lo,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.foodorder.foods,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"fooddiv",key:e},[(0,r._)("div",uo,[(0,r._)("div",po,(0,j.zw)(e),1),(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":o=>i.foodToOrder.foods[e].date=o,onChange:o[5]||(o[5]=(...e)=>a.changeFood&&a.changeFood(...e)),required:""},[fo,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.dates,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e},(0,j.zw)(e),1)))),128))],40,ho),[[n.bM,i.foodToOrder.foods[e].date]])])])))),128))])),i.foodToOrder.isSameTime?((0,r.wg)(),(0,r.iD)("div",mo,[(0,r._)("div",go,[(0,r._)("div",bo,[vo,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":o[6]||(o[6]=e=>i.foodToOrder.所有餐點.date=e),onChange:o[7]||(o[7]=(...e)=>a.changeFood&&a.changeFood(...e)),required:""},[yo,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.dates,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e},(0,j.zw)(e),1)))),128))],544),[[n.bM,i.foodToOrder.所有餐點.date]])])])])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)],32),(0,r._)("div",wo,[(0,r._)("button",{class:"button",onClick:o[9]||(o[9]=o=>e.$emit("subscriber-close"))}," 返回上一步 "),(0,r._)("button",{type:"sumbit",form:"fooood",class:"button",onSubmit:o[10]||(o[10]=(0,n.iM)((()=>{}),["prevent"]))}," 送出預購 ",32)])])}var ko={name:"SubscriberView",props:{details:String,price:Number,subscriber:Object,food:Object,foodorder:Object},data(){return{subscriberInfo:{name:{label:"姓名",type:"text",placeholder:"請輸入您的姓名",autocomplete:"name",value:this.subscriber.name,name:"name"},office:{label:"系級或處室",type:"text",placeholder:"範例：物理114、課外組",autocomplete:"office",value:this.subscriber.office,name:"office"},phone:{label:"手機",type:"tel",placeholder:"09XXXXXXXX",autocomplete:"tel",value:this.subscriber.phone,name:"phone"},email:{label:"電子信箱",type:"email",placeholder:"請輸入您的電子信箱",autocomplete:"email",value:this.subscriber.email,name:"email"}},dates:["4/17（一）12:10-12:30","4/17（一）15:10-15:30","4/18（二）12:10-12:30","4/18（二）15:10-15:30","4/19（三）12:10-12:30","4/19（三）15:10-15:30","4/20（四）12:10-12:30","4/20（四）15:10-15:30","4/21（五）12:10-12:30","4/21（五）15:10-15:30"],foodToOrder:this.food}},emits:["subscriber-close","info-change","submit-order"],methods:{changeInfo(e){var o=e.target.name,t=e.target.value;this.$emit("info-change",o,t)},changeFood(){this.$emit("info-change","fooood",this.foodTime)},submit(){this.changeFood(),this.$emit("submit-order")}},computed:{foodTime(){var e="";if(0===this.foodorder.count)return e;var o="",t=0;if(this.foodToOrder.isSameTime){for(t=0;t<this.foodorder.count;t++)o=this.foodorder.foods[t],e+=o+" "+this.food.foods[o].count+"份\n";return e="所有餐點："+this.foodToOrder.所有餐點.date+"\n"+e,e}for(t=0;t<this.foodorder.count;t++)o=this.foodorder.foods[t],e+=o+" "+this.foodToOrder.foods[o].count+"份："+this.foodToOrder.foods[o].date+"\n";return e}}};const To=(0,i.Z)(ko,[["render",_o],["__scopeId","data-v-5c54e016"]]);var Do=To;const Io=e=>((0,r.dD)("data-v-f74bfd16"),e=e(),(0,r.Cn)(),e),Co={class:"done"},Oo=Io((()=>(0,r._)("br",null,null,-1))),So=Io((()=>(0,r._)("h3",null,"感謝您填寫竹苗週預購表單",-1))),xo=Io((()=>(0,r._)("p",null,[(0,r.Uk)("確認信已寄送至您填寫的信箱"),(0,r._)("br"),(0,r.Uk)("如有任何疑問請洽竹苗週粉專")],-1))),jo=Io((()=>(0,r._)("table",{class:"social_block block-3",width:"100%",border:"0",cellpadding:"10",cellspacing:"0",role:"presentation",style:{"mso-table-lspace":"0pt","mso-table-rspace":"0pt"}},[(0,r._)("tr",null,[(0,r._)("td",{class:"pad"},[(0,r._)("div",{class:"alignment",align:"center"},[(0,r._)("table",{class:"social-table",width:"108px",border:"0",cellpadding:"0",cellspacing:"0",role:"presentation",style:{"mso-table-lspace":"0pt","mso-table-rspace":"0pt",display:"inline-block"}},[(0,r._)("tr",null,[(0,r._)("td",{style:{padding:"0 2px 0 2px"}},[(0,r._)("a",{href:"https://www.facebook.com/ntnuhcmlfood",target:"_blank"},[(0,r._)("img",{src:"https://app-rsrc.getbee.io/public/resources/social-networks-icon-sets/t-only-logo-dark-gray/facebook@2x.png",width:"32",height:"32",alt:"Facebook",title:"facebook",style:{display:"block",height:"auto",border:"0"}})])]),(0,r._)("td",{style:{padding:"0 2px 0 2px"}},[(0,r._)("a",{href:"https://www.instagram.com/hcmlweek/",target:"_blank"},[(0,r._)("img",{src:"https://app-rsrc.getbee.io/public/resources/social-networks-icon-sets/t-only-logo-dark-gray/instagram@2x.png",width:"32",height:"32",alt:"Instagram",title:"instagram",style:{display:"block",height:"auto",border:"0"}})])]),(0,r._)("td",{style:{padding:"0 2px 0 2px"}},[(0,r._)("a",{href:"https://hcml.ntnu.cf/",target:"_blank"},[(0,r._)("img",{src:"https://app-rsrc.getbee.io/public/resources/social-networks-icon-sets/t-only-logo-dark-gray/website@2x.png",width:"32",height:"32",alt:"2023竹苗週預購表單",title:"訂購表單",style:{display:"block",height:"auto",border:"0"}})])])])])])])])],-1))),Ho=[Oo,So,xo,jo];function Fo(e,o,t,n,s,i){return(0,r.wg)(),(0,r.iD)("div",Co,Ho)}var qo={name:"DoneView",props:{msg:String}};const Mo=(0,i.Z)(qo,[["render",Fo],["__scopeId","data-v-f74bfd16"]]);var Vo=Mo,Wo=t(6943);const Ko="https://script.google.com/macros/s/AKfycbxSyHs_eRLlyVlwrly2bVWITAuxWtopITwunb665jauh3x4IN-toRpcL0H8VpnhUDDR/exec",Ao="https://script.google.com/macros/s/AKfycbxrcM0zkKSvzm_s0hJJWJssOkfSaMQ-XY-Iq7pv_y9yy56UamDbTypqD7uJeI7JbDCy6g/exec";var Po={name:"ShopView",data(){return{products:{},showProduct:!0,isShowWarn:!0,isShowInfo:!1,showType:"所有商品",showOtherType:!0,shoppingDone:!1,shoppingAllDone:!1,types:{"所有商品":0},infoProductKey:"",subscriberInfo:{name:"",office:"",phone:"",email:"",fooood:""},food:{isSameTime:!0,"所有餐點":{count:0,date:""},foods:{}}}},components:{Header:x,Product:E,Cart:he,Footer:Ce,Info:ze,Type:ve,Warn:Xe,Subscriber:Do,Done:Vo},computed:{price(){var e=0;for(var o of Object.values(this.products)){var t=parseInt(o.count);t>0&&(e+=t*o.price)}return e},orderDetails(){var e="";for(var o of Object.values(this.products))o.count>0&&(""!=e&&(e+="\n"),e+=o.name+"（NT "+o.price+"）"+String(o.count)+"份");return e},foodOrder(){var e={count:0,foods:[]};for(var o of Object.keys(this.food.foods))this.products[o].count>0&&(e.foods.push(o),e.count++);return e},summitDataToAppScript(){var e="?姓名="+this.subscriberInfo.name+"&系級="+this.subscriberInfo.office+"&訂單明細="+this.orderDetails+"&總價="+this.price+"&現做餐點="+this.subscriberInfo.fooood+"&email="+this.subscriberInfo.email+"&手機="+this.subscriberInfo.phone;return e.replaceAll("\n","<br />")},summitDataToBackground(){var e="?";for(var o of Object.values(this.products))o.count>0&&(e+=o.name+"="+o.count+"&");return e}},methods:{showInfo(e){this.infoProductKey=e,this.isShowInfo=!0},typeClick(e,o=!1){this.showType=e,this.showOtherType=!o},submitToBackground(){(0,Wo.Z)({method:"get",url:Ao+this.summitDataToBackground,headers:{"Content-Type":"text/plain"}}).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))},submitOrder(){(0,Wo.Z)({method:"post",url:Ko+this.summitDataToAppScript,headers:{"Content-Type":"text/plain"}}).then((e=>{console.log(e),this.shoppingAllDone=!0})).catch((e=>{console.log(e)})),this.submitToBackground(),this.shoppingAllDone=!0},sendFood(){for(var e of Object.keys(this.food.foods))this.food.foods[e].count=this.products[e].count}},created(){Wo.Z.get(Ko).then((e=>{const o=e.data;for(var t=0,n=1;n<o.length;n++){const e=o[n];var r=e[4].split(/\r?\n/g);this.products[e[0]]={name:e[1],price:Number(e[2]),img:"/img/"+e[3],type:r,info:e[5].replace(/\r?\n/g,"<br />"),sale:e[6].replace(/\r?\n/g,"<br />"),other:e[7].split(/\r?\n/g),count:0},this.types.所有商品++;for(var s=0;s<r.length;s++)r[s]&&(void 0==this.types[r[s]]?this.types[r[s]]=1:this.types[r[s]]++);0!=r.length&&""!=r[0]||(t++,this.products[e[0]].type=["其他"]),this.products[e[0]].other.includes("正式週取貨")&&(this.food.foods[e[0]]={count:0,date:""})}this.types.其他=t}))},mounted(){if(this.shoppingAllDone)return;const e="表單將不會保存，確定要離開？";window.onbeforeunload=o=>(o=o||window.event,o&&(o.returnValue=e),e)}};const zo=(0,i.Z)(Po,[["render",k],["__scopeId","data-v-c3491bf0"]]);var Zo=zo;const No=[{path:"/",name:"shop",component:Zo,meta:{title:"竹苗週預購"}}],$o=(0,d.p7)({history:(0,d.PO)("/"),routes:No});$o.beforeEach(((e,o,t)=>{window.document.title=e.meta.title,t()}));var Uo=$o,Yo=t(65),Lo=(0,Yo.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});t(1923);(0,n.ri)(l).use(Lo).use(Uo).mount("#app")}},o={};function t(n){var r=o[n];if(void 0!==r)return r.exports;var s=o[n]={exports:{}};return e[n](s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(o,n,r,s){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],r=e[d][1],s=e[d][2];for(var a=!0,c=0;c<n.length;c++)(!1&s||i>=s)&&Object.keys(t.O).every((function(e){return t.O[e](n[c])}))?n.splice(c--,1):(a=!1,s<i&&(i=s));if(a){e.splice(d--,1);var l=r();void 0!==l&&(o=l)}}return o}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,r,s]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={143:0};t.O.j=function(o){return 0===e[o]};var o=function(o,n){var r,s,i=n[0],a=n[1],c=n[2],l=0;if(i.some((function(o){return 0!==e[o]}))){for(r in a)t.o(a,r)&&(t.m[r]=a[r]);if(c)var d=c(t)}for(o&&o(n);l<i.length;l++)s=i[l],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(d)},n=self["webpackChunkhcml"]=self["webpackChunkhcml"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(3956)}));n=t.O(n)})();
//# sourceMappingURL=app.368b2fe8.js.map